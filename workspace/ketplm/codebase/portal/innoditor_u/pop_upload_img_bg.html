<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Cache-Control" content="No-Cache" />
<meta http-equiv="Pragma" content="No-Cache" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />

<title>이노디터(InnoDitor) 이미지 업로드</title>
<link rel="stylesheet" type="text/css" href="./css/ko/uploadstyle.css" />

<script language="javascript" type="text/javascript" src="./js/browser.js"></script>
<script language="javascript" type="text/javascript" src="./js/uploadimage_bg.js"></script>

<script language="javascript" type="text/javascript">
//<![CDATA[
// customer 셋팅 변수
var g_strUploadPath_Image = "/z_experience/upload_tran_u.asp";
//]]>
</script>

<script language="javascript" type="text/javascript">
//<![CDATA[
function fnLoadPage()
{
	fnAdjustPage();

	if(g_browserCHK.wk || g_browserCHK.op)
	{
		// Chrome  / Safari / Opera
		var objParam = opener.fnGetBackgroundImageValue();

		fnInitLoadImage(objParam[0]);
		fnInitLoadRepeat(objParam[1]);
	}
	else if(g_browserCHK.ie || g_browserCHK.ff)
	{
		// IE  /  FireFox
		if((null != window.dialogArguments) && ("undefined" != window.dialogArguments))
		{
			var objParam = window.dialogArguments;

			fnInitLoadImage(objParam[0]);
			fnInitLoadRepeat(objParam[1]);
		}
	}
}

function fnImageSend()
{
	if(null == g_objUploadObject)
	{
		alert("이미지 업로드를 먼저 하세요");
		return;
	}

	var bRemoveChecked = document.getElementById("chkBackgroundRemove").checked;

	var arrReturnValue = new Array();
	arrReturnValue[0] = g_objUploadObject.src;
	arrReturnValue[1] = document.getElementById("selBackgroundRepeat").value;
	arrReturnValue[2] = bRemoveChecked;

	if(g_browserCHK.wk || g_browserCHK.op)
	{
		// Chrome  / Safari / Opera
		opener.fnSetBackgroundImageValue(arrReturnValue);
	}
	else if(g_browserCHK.ie || g_browserCHK.ff)
	{
		// IE  /  FireFox
		window.returnValue = arrReturnValue;
	}

	window.close();
}
//]]>
</script>
</head>

<body onload="javascript:fnLoadPage();">

<div style="width:598px;height:510px;border:1px solid #e2e2e2;">
	<div style="margin-left:16px;margin-right:16px;">

		<div style="margin-top:10px;"><img alt="배경이미지업로드창" src="./image/editwin/ko/pop_upload_image_title.gif" /></div>

		<!-- 탭 이미지 영역 -->
		<div style="height:27px;margin-top:12px;border-bottom:1px solid #d2d2d2;">
			<div style="display:inline-block;">
				<img alt="이미지업로드" src="./image/editwin/ko/pop_upload_tab_image_1_r.gif" />
			</div>
		</div>

		<div style="margin-top:2px;">

			<!-- 이미지 보여주기 영역(main) -->
			<div style="display:inline;float:left;width:410px;">
				<table border="0" cellpadding="0" cellspacing="0">
				<tr>
					<td id="img_main" align="center" style="width:400px;height:410px;border:1px solid #c4cad1;background-color:#ffffff;background-image:url(./image/editwin/pop_upload_thumnail_bg.gif);">
						<img alt="업로드를 해주세요" src="./image/editwin/ko/pop_upload_image_main_title_1.gif" />
					</td>
				</tr>
				</table>
			</div>
			<div style="display:inline;float:left;width:2px;"></div>
			<div style="display:inline;float:left;vertical-align:top;">

				<!-- 이미지 업로드 UI Set 영역 -->
				<div id="imgPreviewArea" style="height:230px;">

					<!-- 이미지 보여주기 영역(preview) -->
					<div id="img_preview" style="width:150px;height:150px;border:1px solid #c4cad1;background-color:#ffffff;background-image:url(./image/editwin/pop_upload_thumnail_bg.gif);text-align:center;">
						<img alt="미리보기" src="./image/editwin/ko/pop_upload_image_preview_title.gif" style="margin-top:60px;" />
					</div>

					<!-- 파일선택, 업로드 버튼 영역 -->
					<form name="frmUpload" method="post" action="" enctype="multipart/form-data" onsubmit="return false">
					<div style="margin-top:10px;">
						<div style="width:70px;height:20px;margin-left:7px;display:inline;float:left;">
							<div class="UploadFileContainer"><input type="file" title="파일선택" id="fileUpload" name="fileUpload" class="UploadFile" onfocus="javascript:fnFired_Focus_File(this);" onblur="javascript:fnFired_Blur_File(this);" style="cursor:pointer;" /></div>
							<input type="hidden" name="hdnUploadType" value="1" />
						</div>
						<div style="display:inline;">
							<a href="javascript:fnUploadFile();"><img alt="업로드" src="./image/editwin/ko/btn_upload.gif" /></a>
						</div>
					</div>
					<div style="margin-top:4px;text-align:center;">
						JPG, GIF, PNG 파일<br />
						(1024K 이하만 가능)
					</div>
					</form>

				</div>

				<div style="width:150px;height:1px;border-top:1px solid #dedede;"></div>

				<!-- 배경이미지 반복 부분 -->
				<div style="margin-top:10px;">
					<div>
						<b>배경 이미지 반복(선택)</b>
					</div>
					<div>
						<select id="selBackgroundRepeat" title="배경이미지반복옵션" name="selBackgroundRepeat" style="width:150px;">
							<option value="repeat">반복(기본값)</option>
							<option value="no-repeat">반복 안함</option>
							<option value="repeat-x">가로 반복</option>
							<option value="repeat-y">세로 반복</option>
						</select>
					</div>
				</div>

				<!-- 배경이미지 반복 부분 -->
				<div style="margin-top:50px;clear:both;">
					<div style="display:inline;float:left;vertical-align:top;">
						<input type="checkbox" title="배경이미지제거여부" id="chkBackgroundRemove" name="chkBackgroundRemove" value="1" />
					</div>
					<div style="display:inline-block;vertical-align:top;">
						설정된 배경 이미지를<br />
						제거합니다.
					</div>
				</div>

				<!-- 적용,취소 버튼 영역 -->
				<div style="margin-top:10px;text-align:center;">
					<div style="display:inline;">
						<a href="javascript:fnImageSend();"><img alt="적용" src="./image/editwin/ko/btn_apply.gif" /></a>
					</div>
					<div style="display:inline;">
						<a href="javascript:window.close();"><img alt="취소" src="./image/editwin/ko/btn_cancel.gif" /></a>
					</div>
				</div>

			</div>
		</div>
	</div>
</div>

<!-- Upload Form Action Area : Start -->
<iframe name="ifrmUpload" src="" style="display:none" width="0" height="0" frameborder="0" marginheight="0" marginwidth="0"></iframe>
<!-- Upload Form Action Area : End -->

<div id="uploadStatus" style="display:none">
	<div class="UploadStatus" style="top:0px;left:0px;width:600px;height:230px"></div>
	<div class="UploadStatus" style="top:230px;left:0px;width:160px;height:80px"></div>
	<div class="UploadStatusBar" style="top:230px;left:160px;width:280px;height:80px"><img alt="업로드 진행중" src="./image/editwin/ko/pop_upload_status.gif" /></div>
	<div class="UploadStatus" style="top:230px;left:440px;width:160px;height:80px"></div>
	<div class="UploadStatus" style="top:310px;left:0px;width:600px;height:220px"></div>
</div>

</body> 
</html>
